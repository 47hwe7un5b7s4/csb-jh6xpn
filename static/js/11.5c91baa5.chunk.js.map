{"version":3,"sources":["effects/otherMerge.ts","components/pages/skins/gridtile.tsx","components/pages/other.tsx","effects/skinEnlarger.ts"],"names":["otherMerge","custom","a","canvas","document","createElement","width","height","skinEls","i","image","Image","crossOrigin","enlargeUri","src","Promise","resolve","onload","length","context","getContext","item","ranges","range","drawImage","skin","start","x","y","end","paste","shrink","toDataURL","skinUrl","capeUrl","slim","skinViewer","SkinViewer","renderPaused","model","camera","rotation","z","position","loadSkin","loadCape","render","dispose","BackgroundImage","styled","div","Gridtile","display","short","to","style","backgroundColor","undefined","fallback","promiseFn","skinImage","data","isLoading","alt","Other","map","Array","from","skins","keys","n","usernames","toString","localStorage","getItem","name","enlargeCanvas","putImageData","getImageData","uri"],"mappings":"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","file":"static/js/11.5c91baa5.chunk.js","sourcesContent":["import {enlargeUri} from \"./skinEnlarger\";\n\nexport interface customMarkup {\n    skins: number;\n    author?: string\n    name?: string\n    short?: string\n    usernames?: {\n        [key: string]: string\n    }\n    ranges: {\n        skin: number;\n        start: {\n            x: number;\n            y: number;\n        };\n        end: {\n            x: number;\n            y: number;\n        };\n        paste?: {\n            x?: number;\n            y?: number;\n        };\n        shrink?: {\n            width: number;\n            height: number;\n        };\n    }[];\n}\n\nexport default async function otherMerge(custom: customMarkup, ...skins: string[]) {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const skinEls: HTMLImageElement[] = [];\n    for (let i = 0; i < 2; i++) {\n        const image = new Image();\n        image.crossOrigin = 'anonymous';\n        image.src = await enlargeUri(skins[i]);\n        await new Promise((resolve) => {\n            image.onload = loaded;\n\n            function loaded() {\n                resolve(null);\n            }\n        });\n        skinEls[skinEls.length] = image;\n    }\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    for (let item = 0; item < custom?.ranges?.length ?? 0; item++) {\n        const range = custom.ranges[item];\n        context.drawImage(\n            skinEls[range.skin],\n            range.start.x,\n            range.start.y,\n            range.end.x - range.start.x,\n            range.end.y - range.start.y,\n            range.paste?.x ?? range.start.x,\n            range.paste?.y ?? range.start.y,\n            range.shrink?.width ?? range.end.x - range.start.x,\n            range.shrink?.height ?? range.end.y - range.start.y,\n        );\n    }\n    return canvas.toDataURL();\n}\n","import React, { Suspense } from 'react';\nimport styled, { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { SkinViewer } from 'skinview3d';\nimport { Async } from 'react-async';\nimport { Link } from 'react-router-dom';\n\nasync function skinImage(skinUrl: string, capeUrl?: string | null, slim?: boolean) {\n    const skinViewer = new SkinViewer({\n        width: 500,\n        height: 800,\n        renderPaused: true,\n        model: slim ?? false ? 'slim' : 'default',\n    });\n    skinViewer.camera.rotation.x = -0.62;\n    skinViewer.camera.rotation.y = 0.534;\n    skinViewer.camera.rotation.z = 0.348;\n    skinViewer.camera.position.x = 30.5;\n    skinViewer.camera.position.y = 24.0;\n    skinViewer.camera.position.z = 42.0;\n\n    await skinViewer.loadSkin(skinUrl);\n    if (capeUrl) await skinViewer.loadCape(capeUrl);\n\n    skinViewer.render();\n    const image = skinViewer.canvas.toDataURL();\n    skinViewer.dispose();\n    return image;\n}\n\nconst BackgroundImage = styled.div`\n    ${tw`h-full w-max rounded-lg shadow-md border-gray-300 border-4 mx-auto max-w-full`}\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdj3Lt3738nJycGxv/////ft28fAwBbawo1G1p8AgAAAABJRU5ErkJggg==\");\n    image-rendering: pixelated;\n    image-rendering: -moz-crisp-edges;\n    image-rendering: crisp-edges;\n    background-repeat: repeat;\n    background-size: 20px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdjfPfu3X9BQUEGxv////9///49AwBfcArIPbKUHwAAAABJRU5ErkJggg==');\n`;\n\nexport default function Gridtile({\n    skin,\n    display,\n    short,\n    to,\n}: {\n    skin: string | undefined;\n    display: string;\n    short: string;\n    to: string;\n}) {\n    return (\n        <Link to={'/' + to + '/' + short}>\n            <BackgroundImage style={{ backgroundColor: 'gray' }}>\n                <div\n                    css={tw`overflow-hidden bg-gray-100 font-medium text-lg text-center mx-auto w-full py-1 rounded-t-md`}\n                >\n                    <span css={tw`mx-3`}>{display}</span>\n                </div>\n                {skin !== undefined ? (\n                    <Suspense fallback={<></>}>\n                        <Async promiseFn={() => skinImage(skin)}>\n                            {({ data, isLoading }: { data: string; isLoading: boolean }) => {\n                                return isLoading ? (\n                                    <div\n                                        css={css`\n                                            width: 250px;\n                                            height: 400px;\n                                        `}\n                                    />\n                                ) : (\n                                    <img\n                                        src={data}\n                                        alt={'Minecraft Skin'}\n                                        css={tw`max-w-full`}\n                                        width={250}\n                                        height={400}\n                                    />\n                                );\n                            }}\n                        </Async>\n                    </Suspense>\n                ) : (\n                    <div\n                        css={css`\n                            width: 250px;\n                            height: 400px;\n                        `}\n                    />\n                )}\n            </BackgroundImage>\n        </Link>\n    );\n}\n","import tw from 'twin.macro';\nimport React, {Suspense} from 'react';\nimport {Async} from 'react-async';\nimport Gridtile from './skins/gridtile';\nimport otherMerge, {customMarkup} from \"../../effects/otherMerge\";\n\nexport default function Other({data}: { data: customMarkup[] }) {\n    return (\n        <div css={tw`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 m-6`}>\n            {data.map((image) => {\n                return (\n                    <div key={image.short}>\n                        <Suspense fallback={<></>}>\n                            <Async\n                                promiseFn={async () =>\n                                    (await otherMerge(\n                                        image,\n                                        ...Array.from(Array(image.skins).keys()).map(\n                                            (n) => image.usernames && image.usernames[n.toString()] ? 'https://mc-heads.net/skin/' + image.usernames[n] : 'https://mc-heads.net/skin/' + localStorage.getItem('skin' + n),\n                                        ),\n                                    )) ?? ''\n                                }\n                            >\n                                {({data, isLoading}: { data: string; isLoading: boolean }) => {\n                                    return <Gridtile skin={isLoading ? undefined : data} display={image.name!}\n                                                     short={image.short!} to={'other'}/>\n                                }}\n                            </Async>\n                        </Suspense>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n","export function enlargeCanvas(canvas: HTMLCanvasElement, image: HTMLImageElement) {\n    if (image.height === 32) {\n        const context = canvas.getContext('2d');\n        if (!context) return;\n        for (let x = 0; x < 16; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x + 16, y + 32);\n            }\n        }\n        for (let x = 40; x < 56; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x - 8, y + 32);\n            }\n        }\n    }\n    return canvas\n}\n\nexport async function enlargeUri(uri: string) {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const image = new Image();\n    image.crossOrigin = 'anonymous';\n    image.src = uri;\n    await new Promise((resolve) => {\n        image.onload = loaded;\n\n        function loaded() {\n            resolve(null);\n        }\n    });\n    canvas.getContext('2d')?.drawImage(image, 0, 0, image.width, image.height);\n    enlargeCanvas(canvas, image)\n    return canvas.toDataURL();\n}\n"],"sourceRoot":""}