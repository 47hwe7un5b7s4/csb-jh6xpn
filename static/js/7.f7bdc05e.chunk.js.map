{"version":3,"sources":["components/pages/viewer/skinview.tsx","components/ViewPage.tsx","SkinMerger.ts","components/pages/viewer/viewer.tsx","effects/skinEnlarger.ts"],"names":["skinViewer","walk","BackgroundImage","styled","div","Skinview","size","skin","ref","React","createRef","useState","doWalk","setDoWalk","useEffect","SkinViewer","canvas","current","undefined","width","height","skinUrl","cape","capeUrl","alpha","model","control","createOrbitControls","enableRotate","enableZoom","enablePan","animations","add","WalkingAnimation","progress","speed","setSize","loadSkin","loadCape","resetCape","paused","onClick","icon","faPause","faPlay","style","imageRendering","ViewPage","skinData","updateSkin","inputs","setInputs","author","name","useForm","register","handleSubmit","copied","setCopied","map","i","id","fallback","promiseFn","a","axios","get","catch","error","response","data","isLoading","onSubmit","event","preventDefault","type","faSync","input","val","success","newVal","player","alert","defaultValue","username","toString","download","faDownload","faExternalLinkAlt","navigator","clipboard","writeText","window","location","origin","pathname","search","join","setTimeout","SkinMerger","apply","amount","console","Error","document","createElement","skinEls","skinCanvas","image","Image","crossOrigin","src","Promise","resolve","onload","getContext","drawImage","enlargeCanvas","length","context","x","y","putImageData","getImageData","toDataURL","steve","Viewer","skinDetails","setSkinData","skins","hash","slice","split","Array","from","keys","n","localStorage","getItem","effect","then","enlargeUri","uri"],"mappings":"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","file":"static/js/7.f7bdc05e.chunk.js","sourcesContent":["import { AnimationHandle, createOrbitControls, SkinViewer, WalkingAnimation } from 'skinview3d';\nimport React, { useEffect, useState } from 'react';\nimport { ModelType } from 'skinview-utils';\nimport styled, { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPause, faPlay } from '@fortawesome/free-solid-svg-icons';\n\nlet skinViewer: SkinViewer;\nlet walk: AnimationHandle;\n\nconst BackgroundImage = styled.div`\n    ${tw`h-full w-max rounded-lg shadow-md border-gray-300 border-4 max-w-full`}\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdj3Lt3738nJycGxv/////ft28fAwBbawo1G1p8AgAAAABJRU5ErkJggg==\");\n    image-rendering: pixelated;\n    image-rendering: -moz-crisp-edges;\n    image-rendering: crisp-edges;\n    background-repeat: repeat;\n    background-size: 40px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdjfPfu3X9BQUEGxv////9///49AwBfcArIPbKUHwAAAABJRU5ErkJggg==');\n`;\n\nexport default function Skinview({\n    size,\n    skin,\n}: {\n    size: { height: number; width: number };\n    skin: { skinUrl: string; capeUrl?: string; model: ModelType | 'auto-detect' };\n}) {\n    const ref = React.createRef<HTMLCanvasElement>();\n\n    let [doWalk, setDoWalk] = useState(false);\n\n    useEffect(() => {\n        skinViewer = new SkinViewer({\n            canvas: ref.current ?? undefined,\n            width: size.width,\n            height: size.height,\n            skin: skin.skinUrl,\n            cape: skin.capeUrl,\n            alpha: true,\n            model: skin.model,\n        });\n        let control = createOrbitControls(skinViewer);\n        control.enableRotate = true;\n        control.enableZoom = false;\n        control.enablePan = false;\n\n        walk = skinViewer.animations.add(WalkingAnimation);\n        walk.progress = 1.5;\n        walk.speed = 0.56;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        skinViewer.setSize(size.width, size.height);\n    }, [size]);\n\n    useEffect(() => {\n        skinViewer.loadSkin(skin.skinUrl);\n        if (skin.capeUrl) skinViewer.loadCape(skin.capeUrl);\n        else skinViewer.resetCape();\n    }, [skin]);\n\n    useEffect(() => {\n        walk.paused = !doWalk;\n    }, [doWalk]);\n\n    return (\n        <div css={tw`mx-auto`}>\n            <BackgroundImage>\n                <div\n                    onClick={() => setDoWalk(!doWalk)}\n                    css={tw`text-gray-700 w-full flex justify-end hover:cursor-pointer`}\n                >\n                    <div css={tw`p-2 absolute`}>\n                        <FontAwesomeIcon icon={doWalk ? faPause : faPlay} size={'2x'} />\n                    </div>\n                </div>\n                <div\n                    css={css`\n                        width: ${size.width};\n                        height: ${size.height};\n                        max-width: 80vw;\n                        max-height: calc(80vw * ${size.height / size.width});\n                    `}\n                >\n                    <canvas\n                        ref={ref}\n                        style={{ imageRendering: 'pixelated' }}\n                        css={css`\n                            width: ${size.width};\n                            height: ${size.height};\n                            max-width: 80vw;\n                            max-height: calc(80vw * ${size.height / size.width});\n                        `}\n                    />\n                </div>\n            </BackgroundImage>\n        </div>\n    );\n}\n","import tw from 'twin.macro';\nimport Skinview from './pages/viewer/skinview';\nimport React, { Suspense, useState } from 'react';\nimport { Async } from 'react-async';\nimport axios, { AxiosResponse } from 'axios';\nimport { playerDB } from './pages/settings/settings';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDownload, faExternalLinkAlt, faSync } from '@fortawesome/free-solid-svg-icons';\nimport download from 'downloadjs';\nimport { css } from 'styled-components';\nimport { useForm } from 'react-hook-form';\n\nexport default function ViewPage({\n    skinData,\n    updateSkin,\n    inputs,\n    setInputs,\n    author,\n    name,\n}: {\n    skinData: string;\n    updateSkin: () => void;\n    inputs: string[];\n    setInputs: (inputs: string[]) => void;\n    author?: string;\n    name: string;\n}) {\n    const { register, handleSubmit } = useForm();\n    const [copied, setCopied] = useState<string>('Share');\n\n    return (\n        <div css={tw`flex flex-col mt-8`}>\n            <span css={tw`mx-auto text-4xl`}>{name}</span>\n            <div css={tw`mx-auto my-8 h-max w-max flex flex-col md:flex-row`}>\n                <Skinview size={{ height: 600, width: 400 }} skin={{ skinUrl: skinData, model: 'auto-detect' }} />\n                <div>\n                    {inputs.map((i, id) => {\n                        return (\n                            <Suspense\n                                key={id}\n                                fallback={\n                                    <div css={tw`w-full m-4 flex flex-row content-center  py-1 px-2 h-10 rounded-md`} />\n                                }\n                            >\n                                <Async\n                                    promiseFn={async () =>\n                                        await axios\n                                            .get('https://playerdb.co/api/player/minecraft/' + i)\n                                            .catch((error) => error.response)\n                                    }\n                                >\n                                    {({ data, isLoading }: { data: AxiosResponse<playerDB>; isLoading: boolean }) => {\n                                        return isLoading ? (\n                                            <form\n                                                css={tw`w-full m-4 flex flex-row content-center`}\n                                                onSubmit={(event) => event.preventDefault()}\n                                            >\n                                                <input\n                                                    type={'text'}\n                                                    css={tw`h-10 rounded-md hover:outline-none focus:outline-none bg-gray-100 py-1 px-2`}\n                                                />\n                                                <button\n                                                    type=\"submit\"\n                                                    css={tw`px-3 py-2 h-10 rounded-md bg-gray-300 hover:cursor-pointer hover:outline-none focus:outline-none ml-2`}\n                                                >\n                                                    <FontAwesomeIcon icon={faSync} />\n                                                </button>\n                                            </form>\n                                        ) : (\n                                            <form\n                                                css={tw`w-full m-4 flex flex-row content-center`}\n                                                onSubmit={handleSubmit(async (input) => {\n                                                    const val = input[id];\n                                                    const data: playerDB = (\n                                                        await axios\n                                                            .get('https://playerdb.co/api/player/minecraft/' + val)\n                                                            .catch((error) => error.response)\n                                                    ).data;\n                                                    if (data.success) {\n                                                        const newVal = inputs;\n                                                        newVal[id] = data.data.player.id ?? '';\n                                                        setInputs(newVal);\n                                                        updateSkin();\n                                                    } else {\n                                                        alert('Error, Invalid Username / UUID');\n                                                    }\n                                                })}\n                                            >\n                                                <input\n                                                    type={'text'}\n                                                    defaultValue={\n                                                        (data.data.success\n                                                            ? data.data.data.player.username\n                                                            : 'da8a8993-adfa-4d29-99b1-9d0f62fbb78d') ??\n                                                        'da8a8993-adfa-4d29-99b1-9d0f62fbb78d'\n                                                    }\n                                                    {...register(id.toString())}\n                                                    css={tw`h-10 rounded-md hover:outline-none focus:outline-none bg-gray-100 py-1 px-2`}\n                                                />\n                                                <button\n                                                    type=\"submit\"\n                                                    css={tw`px-3 py-2 h-10 rounded-md bg-gray-300 hover:cursor-pointer hover:outline-none focus:outline-none ml-2`}\n                                                >\n                                                    <FontAwesomeIcon icon={faSync} />\n                                                </button>\n                                            </form>\n                                        );\n                                    }}\n                                </Async>\n                            </Suspense>\n                        );\n                    })}\n                    <div css={tw`mx-2 flex`}>\n                        <button\n                            onClick={() => {\n                                download(skinData ?? '', 'MergedSkin', 'image/png');\n                            }}\n                            css={tw`m-2 px-3 py-2 h-10 rounded-md bg-gray-300 hover:cursor-pointer hover:outline-none focus:outline-none flex-shrink flex-grow`}\n                        >\n                            Download&nbsp;\n                            <FontAwesomeIcon icon={faDownload} />\n                        </button>\n                        <button\n                            //onClick={() => {window.open('https://www.minecraft.net/en-us/profile/skin/remote?url=' + skinData);}}\n                            css={css`\n                                ${tw`m-2 px-3 py-2 h-10 rounded-md bg-gray-300 hover:cursor-pointer hover:outline-none focus:outline-none flex-shrink flex-grow\n                            `}\n                                overflow: hidden;\n                                position: relative;\n                            `}\n                        >\n                            <span\n                                css={css`\n                                    ${tw`bg-red-500 text-xs`}\n                                    margin: 0;\n                                    color: white;\n                                    padding: 1px 0;\n                                    position: absolute;\n                                    top: 0;\n                                    right: 0;\n                                    transform: translateX(13%) translateY(0%) rotate(30deg);\n                                    transform-origin: top left;\n\n                                    :before,\n                                    :after {\n                                        content: '';\n                                        position: absolute;\n                                        top: 0;\n                                        margin: 0 -1px;\n                                        width: 100%;\n                                        height: 100%;\n                                        ${tw`bg-red-500`}\n                                    }\n\n                                    :before {\n                                        right: 100%;\n                                    }\n\n                                    :after {\n                                        left: 100%;\n                                    }\n                                `}\n                            >\n                                Soonâ„¢\n                            </span>\n                            Apply&nbsp;\n                            <FontAwesomeIcon icon={faExternalLinkAlt} />\n                        </button>\n                    </div>\n                    <div css={tw`mx-2 flex`}>\n                        <button\n                            onClick={() => {\n                                navigator.clipboard.writeText(\n                                    window.location.origin +\n                                        window.location.pathname +\n                                        window.location.search +\n                                        '#' +\n                                        inputs.join('&'),\n                                );\n                                setCopied('Copied');\n                                setTimeout(() => {\n                                    setCopied('Share');\n                                }, 3000);\n                            }}\n                            css={tw`m-2 px-3 py-2 h-10 rounded-md bg-gray-300 hover:cursor-pointer hover:outline-none focus:outline-none flex-shrink flex-grow flex flex-col`}\n                        >\n                            <span css={tw`mx-auto`}>\n                                {copied}&nbsp;\n                                <FontAwesomeIcon icon={faExternalLinkAlt} />\n                            </span>\n                        </button>\n                    </div>\n                    <div css={tw`flex`}>\n                        <span css={tw`mx-auto text-lg`}>Author:&nbsp;&nbsp;{author ?? 'MixSkin'}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import {enlargeCanvas} from \"./effects/skinEnlarger\";\n\nexport default async function SkinMerger(\n    apply: {\n        image: Record<number, Record<number, number>>;\n        amount: number;\n    },\n    ...skins: string[]\n) {\n    if (skins.length < apply.amount) {\n        console.error('Too Few Arguments');\n        throw new Error('Too Few Arguments');\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const skinEls: HTMLCanvasElement[] = [];\n    for (let i = 0; i < apply.amount; i++) {\n        let skinCanvas = document.createElement('canvas');\n        skinCanvas.width = 64;\n        skinCanvas.height = 64;\n        const image = new Image();\n        image.crossOrigin = 'anonymous';\n        image.src = skins[i];\n        await new Promise((resolve) => {\n            image.onload = loaded;\n\n            function loaded() {\n                resolve(null);\n            }\n        });\n        skinCanvas.getContext('2d')?.drawImage(image, 0, 0, image.width, image.height);\n        skinCanvas = enlargeCanvas(skinCanvas, image)!;\n        skinEls[skinEls.length] = skinCanvas;\n    }\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    for (let x = 0; x < 64; x++) {\n        if (!apply.image[x]) continue;\n        for (let y = 0; y < 64; y++) {\n            if (apply.image[x][y] === undefined) continue;\n            context.putImageData(skinEls[apply.image[x][y]].getContext('2d')!.getImageData(x, y, 1, 1), x, y);\n        }\n    }\n    return canvas.toDataURL();\n}\n","import SkinMerger from '../../../SkinMerger';\nimport { ComboAPI } from '../../../types';\nimport React, { useEffect, useState } from 'react';\nimport ViewPage from '../../ViewPage';\n\nconst steve =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAIRJREFUeF7t1QERADAMArHi33SFfOagHBm7+Fv8/hOABsQTQCBeAJ8gAgjEE0AgXgArgAAC8QQQiBfACiCAQDwBBOIFsAIIIBBPAIF4AawAAgjEE0AgXgArgAAC8QQQiBfACiCAQDwBBOIFsAIIIBBPAIF4AawAAgjEE0AgXgArgECdwANo2ABBrP9ggQAAAABJRU5ErkJggg==';\nexport default function Viewer({ skinDetails }: { combo: string; skinDetails: ComboAPI }) {\n    const [skinData, setSkinData] = useState<string>(steve);\n    const skins = window.location.hash && window.location.hash.length > 1 ? window.location.hash.slice(1).split('&'): []\n\n    const [inputs, setInputs] = useState(\n        Array.from(Array(skinDetails.amount).keys()).map((n) => skins[n] ?? localStorage.getItem('skin' + n) ?? ''),\n    );\n\n    useEffect(() => {\n        async function effect() {\n            setSkinData(\n                (await SkinMerger(skinDetails, ...inputs.map((input) => 'https://mc-heads.net/skin/' + input))) ??\n                    steve,\n            );\n        }\n\n        effect().then();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <ViewPage\n            updateSkin={async () => {\n                setSkinData(\n                    (await SkinMerger(skinDetails, ...inputs.map((input) => 'https://mc-heads.net/skin/' + input))) ??\n                        steve,\n                );\n            }}\n            name={skinDetails.name}\n            inputs={inputs}\n            setInputs={setInputs}\n            skinData={skinData}\n        />\n    );\n}\n","export function enlargeCanvas(canvas: HTMLCanvasElement, image: HTMLImageElement) {\n    if (image.height === 32) {\n        const context = canvas.getContext('2d');\n        if (!context) return;\n        for (let x = 0; x < 16; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x + 16, y + 32);\n            }\n        }\n        for (let x = 40; x < 56; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x - 8, y + 32);\n            }\n        }\n    }\n    return canvas\n}\n\nexport async function enlargeUri(uri: string) {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const image = new Image();\n    image.crossOrigin = 'anonymous';\n    image.src = uri;\n    await new Promise((resolve) => {\n        image.onload = loaded;\n\n        function loaded() {\n            resolve(null);\n        }\n    });\n    canvas.getContext('2d')?.drawImage(image, 0, 0, image.width, image.height);\n    enlargeCanvas(canvas, image)\n    return canvas.toDataURL();\n}\n"],"sourceRoot":""}