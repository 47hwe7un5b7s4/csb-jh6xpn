{"version":3,"sources":["SkinMerger.ts","components/pages/skins/gridtile.tsx","components/pages/home.tsx","effects/skinEnlarger.ts"],"names":["SkinMerger","apply","a","amount","console","error","Error","canvas","document","createElement","width","height","skinEls","i","skinCanvas","image","Image","crossOrigin","src","Promise","resolve","onload","getContext","drawImage","enlargeCanvas","length","context","x","y","undefined","putImageData","getImageData","toDataURL","skinUrl","capeUrl","slim","skinViewer","SkinViewer","renderPaused","model","camera","rotation","z","position","loadSkin","loadCape","render","dispose","BackgroundImage","styled","div","Gridtile","skin","display","short","to","style","backgroundColor","fallback","promiseFn","skinImage","data","isLoading","alt","Home","map","Array","from","keys","n","localStorage","getItem","name","icon","faDice","size","enlargeUri","uri"],"mappings":"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","file":"static/js/8.15046e46.chunk.js","sourcesContent":["import {enlargeCanvas} from \"./effects/skinEnlarger\";\n\nexport default async function SkinMerger(\n    apply: {\n        image: Record<number, Record<number, number>>;\n        amount: number;\n    },\n    ...skins: string[]\n) {\n    if (skins.length < apply.amount) {\n        console.error('Too Few Arguments');\n        throw new Error('Too Few Arguments');\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const skinEls: HTMLCanvasElement[] = [];\n    for (let i = 0; i < apply.amount; i++) {\n        let skinCanvas = document.createElement('canvas');\n        skinCanvas.width = 64;\n        skinCanvas.height = 64;\n        const image = new Image();\n        image.crossOrigin = 'anonymous';\n        image.src = skins[i];\n        await new Promise((resolve) => {\n            image.onload = loaded;\n\n            function loaded() {\n                resolve(null);\n            }\n        });\n        skinCanvas.getContext('2d')?.drawImage(image, 0, 0, image.width, image.height);\n        skinCanvas = enlargeCanvas(skinCanvas, image)!;\n        skinEls[skinEls.length] = skinCanvas;\n    }\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    for (let x = 0; x < 64; x++) {\n        if (!apply.image[x]) continue;\n        for (let y = 0; y < 64; y++) {\n            if (apply.image[x][y] === undefined) continue;\n            context.putImageData(skinEls[apply.image[x][y]].getContext('2d')!.getImageData(x, y, 1, 1), x, y);\n        }\n    }\n    return canvas.toDataURL();\n}\n","import React, { Suspense } from 'react';\nimport styled, { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { SkinViewer } from 'skinview3d';\nimport { Async } from 'react-async';\nimport { Link } from 'react-router-dom';\n\nasync function skinImage(skinUrl: string, capeUrl?: string | null, slim?: boolean) {\n    const skinViewer = new SkinViewer({\n        width: 500,\n        height: 800,\n        renderPaused: true,\n        model: slim ?? false ? 'slim' : 'default',\n    });\n    skinViewer.camera.rotation.x = -0.62;\n    skinViewer.camera.rotation.y = 0.534;\n    skinViewer.camera.rotation.z = 0.348;\n    skinViewer.camera.position.x = 30.5;\n    skinViewer.camera.position.y = 24.0;\n    skinViewer.camera.position.z = 42.0;\n\n    await skinViewer.loadSkin(skinUrl);\n    if (capeUrl) await skinViewer.loadCape(capeUrl);\n\n    skinViewer.render();\n    const image = skinViewer.canvas.toDataURL();\n    skinViewer.dispose();\n    return image;\n}\n\nconst BackgroundImage = styled.div`\n    ${tw`h-full w-max rounded-lg shadow-md border-gray-300 border-4 mx-auto max-w-full`}\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdj3Lt3738nJycGxv/////ft28fAwBbawo1G1p8AgAAAABJRU5ErkJggg==\");\n    image-rendering: pixelated;\n    image-rendering: -moz-crisp-edges;\n    image-rendering: crisp-edges;\n    background-repeat: repeat;\n    background-size: 20px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABtJREFUGFdjfPfu3X9BQUEGxv////9///49AwBfcArIPbKUHwAAAABJRU5ErkJggg==');\n`;\n\nexport default function Gridtile({\n    skin,\n    display,\n    short,\n    to,\n}: {\n    skin: string | undefined;\n    display: string;\n    short: string;\n    to: string;\n}) {\n    return (\n        <Link to={'/' + to + '/' + short}>\n            <BackgroundImage style={{ backgroundColor: 'gray' }}>\n                <div\n                    css={tw`overflow-hidden bg-gray-100 font-medium text-lg text-center mx-auto w-full py-1 rounded-t-md`}\n                >\n                    <span css={tw`mx-3`}>{display}</span>\n                </div>\n                {skin !== undefined ? (\n                    <Suspense fallback={<></>}>\n                        <Async promiseFn={() => skinImage(skin)}>\n                            {({ data, isLoading }: { data: string; isLoading: boolean }) => {\n                                return isLoading ? (\n                                    <div\n                                        css={css`\n                                            width: 250px;\n                                            height: 400px;\n                                        `}\n                                    />\n                                ) : (\n                                    <img\n                                        src={data}\n                                        alt={'Minecraft Skin'}\n                                        css={tw`max-w-full`}\n                                        width={250}\n                                        height={400}\n                                    />\n                                );\n                            }}\n                        </Async>\n                    </Suspense>\n                ) : (\n                    <div\n                        css={css`\n                            width: 250px;\n                            height: 400px;\n                        `}\n                    />\n                )}\n            </BackgroundImage>\n        </Link>\n    );\n}\n","import { ComboAPI } from '../../types';\nimport tw from 'twin.macro';\nimport React, { Suspense } from 'react';\nimport { Async } from 'react-async';\nimport SkinMerger from '../../SkinMerger';\nimport Gridtile from './skins/gridtile';\nimport { css } from 'styled-components';\nimport { faDice } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nexport default function Home({ data }: { data: ComboAPI[] }) {\n    return (\n        <div css={tw`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 m-6`}>\n            {data.map((image) => {\n                return (\n                    <div key={image.short}>\n                        <Suspense fallback={<></>}>\n                            <Async\n                                promiseFn={async () =>\n                                    (await SkinMerger(\n                                        image,\n                                        ...Array.from(Array(image.amount).keys()).map(\n                                            (n) => 'https://mc-heads.net/skin/' + localStorage.getItem('skin' + n),\n                                        ),\n                                    )) ?? ''\n                                }\n                            >\n                                {({ data, isLoading }: { data: string; isLoading: boolean }) => {\n                                    return (\n                                        <Gridtile\n                                            skin={isLoading ? undefined : data}\n                                            display={image.name}\n                                            short={image.short}\n                                            to={'view'}\n                                        />\n                                    );\n                                }}\n                            </Async>\n                        </Suspense>\n                    </div>\n                );\n            })}\n            <Link to={'/other'}>\n                <div\n                    css={css`\n                        height: 444px;\n                        width: 258px;\n                        ${tw`rounded-lg shadow-md border-gray-200 border-4 mx-auto flex`}\n                    `}\n                >\n                    <span css={tw`m-auto text-gray-500 flex flex-col text-lg`}>\n                        Other Effects\n                        <span css={tw`mx-auto mt-2`}>\n                            <FontAwesomeIcon icon={faDice} size={'2x'} />\n                        </span>\n                    </span>\n                </div>\n            </Link>\n        </div>\n    );\n}\n","export function enlargeCanvas(canvas: HTMLCanvasElement, image: HTMLImageElement) {\n    if (image.height === 32) {\n        const context = canvas.getContext('2d');\n        if (!context) return;\n        for (let x = 0; x < 16; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x + 16, y + 32);\n            }\n        }\n        for (let x = 40; x < 56; x++) {\n            for (let y = 16; y < 32; y++) {\n                context.putImageData(context.getImageData(x, y, 1, 1), x - 8, y + 32);\n            }\n        }\n    }\n    return canvas\n}\n\nexport async function enlargeUri(uri: string) {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const image = new Image();\n    image.crossOrigin = 'anonymous';\n    image.src = uri;\n    await new Promise((resolve) => {\n        image.onload = loaded;\n\n        function loaded() {\n            resolve(null);\n        }\n    });\n    canvas.getContext('2d')?.drawImage(image, 0, 0, image.width, image.height);\n    enlargeCanvas(canvas, image)\n    return canvas.toDataURL();\n}\n"],"sourceRoot":""}